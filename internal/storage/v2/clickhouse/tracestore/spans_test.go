// Copyright (c) 2025 The Jaeger Authors.
// SPDX-License-Identifier: Apache-2.0

package tracestore

import (
	"time"

	"go.opentelemetry.io/collector/pdata/pcommon"

	"github.com/jaegertracing/jaeger/internal/storage/v2/clickhouse/tracestore/dbmodel"
)

var traceID = pcommon.TraceID([16]byte{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1})

var now = time.Date(2025, 6, 14, 10, 0, 0, 0, time.UTC)

var singleSpan = []*dbmodel.SpanRow{
	{
		ID:                          "0000000000000001",
		TraceID:                     traceID.String(),
		TraceState:                  "state1",
		Name:                        "GET /api/user",
		Kind:                        "Server",
		StartTime:                   now,
		StatusCode:                  "Ok",
		StatusMessage:               "success",
		RawDuration:                 1_000_000_000,
		BoolAttributeKeys:           []string{"authenticated", "cache_hit"},
		BoolAttributeValues:         []bool{true, false},
		DoubleAttributeKeys:         []string{"response_time", "cpu_usage"},
		DoubleAttributeValues:       []float64{0.123, 45.67},
		IntAttributeKeys:            []string{"user_id", "request_size"},
		IntAttributeValues:          []int64{12345, 1024},
		StrAttributeKeys:            []string{"http.method", "http.url"},
		StrAttributeValues:          []string{"GET", "/api/user"},
		ComplexAttributeKeys:        []string{"@bytes@request_body"},
		ComplexAttributeValues:      []string{"eyJuYW1lIjoidGVzdCJ9"},
		EventNames:                  []string{"login"},
		EventTimestamps:             []time.Time{now},
		EventBoolAttributeKeys:      [][]string{{"event.authenticated", "event.cached"}},
		EventBoolAttributeValues:    [][]bool{{true, false}},
		EventDoubleAttributeKeys:    [][]string{{"event.response_time"}},
		EventDoubleAttributeValues:  [][]float64{{0.001}},
		EventIntAttributeKeys:       [][]string{{"event.sequence"}},
		EventIntAttributeValues:     [][]int64{{1}},
		EventStrAttributeKeys:       [][]string{{"event.message"}},
		EventStrAttributeValues:     [][]string{{"user login successful"}},
		EventComplexAttributeKeys:   [][]string{{"@bytes@event.payload"}},
		EventComplexAttributeValues: [][]string{{"eyJ1c2VyX2lkIjoxMjM0NX0="}},
		LinkTraceIDs:                []string{"00000000000000000000000000000002"},
		LinkSpanIDs:                 []string{"0000000000000002"},
		LinkTraceStates:             []string{"state2"},
		LinkBoolAttributeKeys:       [][]string{{"link.validated", "link.active"}},
		LinkBoolAttributeValues:     [][]bool{{true, true}},
		LinkDoubleAttributeKeys:     [][]string{{"link.weight"}},
		LinkDoubleAttributeValues:   [][]float64{{0.8}},
		LinkIntAttributeKeys:        [][]string{{"link.priority"}},
		LinkIntAttributeValues:      [][]int64{{1}},
		LinkStrAttributeKeys:        [][]string{{"link.type"}},
		LinkStrAttributeValues:      [][]string{{"follows_from"}},
		LinkComplexAttributeKeys:    [][]string{{"@bytes@link.metadata"}},
		LinkComplexAttributeValues:  [][]string{{"eyJsaW5rX2lkIjoxfQ=="}},
		ServiceName:                 "user-service",
		ScopeName:                   "auth-scope",
		ScopeVersion:                "v1.0.0",
	},
}

var multipleSpans = []*dbmodel.SpanRow{
	{
		ID:                          "0000000000000001",
		TraceID:                     traceID.String(),
		TraceState:                  "state1",
		Name:                        "GET /api/user",
		Kind:                        "Server",
		StartTime:                   now,
		StatusCode:                  "Ok",
		StatusMessage:               "success",
		RawDuration:                 1_000_000_000,
		BoolAttributeKeys:           []string{"authenticated", "cache_hit"},
		BoolAttributeValues:         []bool{true, false},
		DoubleAttributeKeys:         []string{"response_time", "cpu_usage"},
		DoubleAttributeValues:       []float64{0.123, 45.67},
		IntAttributeKeys:            []string{"user_id", "request_size"},
		IntAttributeValues:          []int64{12345, 1024},
		StrAttributeKeys:            []string{"http.method", "http.url"},
		StrAttributeValues:          []string{"GET", "/api/user"},
		ComplexAttributeKeys:        []string{"@bytes@request_body"},
		ComplexAttributeValues:      []string{"eyJuYW1lIjoidGVzdCJ9"},
		EventNames:                  []string{"login"},
		EventTimestamps:             []time.Time{now},
		EventBoolAttributeKeys:      [][]string{{"event.authenticated", "event.cached"}},
		EventBoolAttributeValues:    [][]bool{{true, false}},
		EventDoubleAttributeKeys:    [][]string{{"event.response_time"}},
		EventDoubleAttributeValues:  [][]float64{{0.001}},
		EventIntAttributeKeys:       [][]string{{"event.sequence"}},
		EventIntAttributeValues:     [][]int64{{1}},
		EventStrAttributeKeys:       [][]string{{"event.message"}},
		EventStrAttributeValues:     [][]string{{"user login successful"}},
		EventComplexAttributeKeys:   [][]string{{"@bytes@event.payload"}},
		EventComplexAttributeValues: [][]string{{"eyJ1c2VyX2lkIjoxMjM0NX0="}},
		LinkTraceIDs:                []string{"00000000000000000000000000000002"},
		LinkSpanIDs:                 []string{"0000000000000002"},
		LinkTraceStates:             []string{"state2"},
		LinkBoolAttributeKeys:       [][]string{{"link.validated", "link.active"}},
		LinkBoolAttributeValues:     [][]bool{{true, true}},
		LinkDoubleAttributeKeys:     [][]string{{"link.weight"}},
		LinkDoubleAttributeValues:   [][]float64{{0.8}},
		LinkIntAttributeKeys:        [][]string{{"link.priority"}},
		LinkIntAttributeValues:      [][]int64{{1}},
		LinkStrAttributeKeys:        [][]string{{"link.type"}},
		LinkStrAttributeValues:      [][]string{{"follows_from"}},
		LinkComplexAttributeKeys:    [][]string{{"@bytes@link.metadata"}},
		LinkComplexAttributeValues:  [][]string{{"eyJsaW5rX2lkIjoxfQ=="}},
		ServiceName:                 "user-service",
		ScopeName:                   "auth-scope",
		ScopeVersion:                "v1.0.0",
	},
	{
		ID:                          "0000000000000003",
		TraceID:                     traceID.String(),
		TraceState:                  "state1",
		ParentSpanID:                "0000000000000001",
		Name:                        "SELECT /db/query",
		Kind:                        "Client",
		StartTime:                   now.Add(10 * time.Millisecond),
		StatusCode:                  "Ok",
		StatusMessage:               "success",
		RawDuration:                 500_000_000,
		BoolAttributeKeys:           []string{"db.cached", "db.readonly"},
		BoolAttributeValues:         []bool{false, true},
		DoubleAttributeKeys:         []string{"db.latency", "db.connections"},
		DoubleAttributeValues:       []float64{0.05, 5.0},
		IntAttributeKeys:            []string{"db.rows_affected", "db.connection_id"},
		IntAttributeValues:          []int64{150, 42},
		StrAttributeKeys:            []string{"db.statement", "db.name"},
		StrAttributeValues:          []string{"SELECT * FROM users", "userdb"},
		ComplexAttributeKeys:        []string{"@bytes@db.query_plan"},
		ComplexAttributeValues:      []string{"UExBTiBTRUxFQ1Q="},
		EventNames:                  []string{"query-start", "query-end"},
		EventTimestamps:             []time.Time{now.Add(10 * time.Millisecond), now.Add(510 * time.Millisecond)},
		EventBoolAttributeKeys:      [][]string{{"db.optimized", "db.indexed"}, {"db.cached", "db.successful"}},
		EventBoolAttributeValues:    [][]bool{{true, false}, {true, false}},
		EventDoubleAttributeKeys:    [][]string{{"db.query_time"}, {"db.result_time"}},
		EventDoubleAttributeValues:  [][]float64{{0.001}, {0.5}},
		EventIntAttributeKeys:       [][]string{{"db.connection_pool_size"}, {"db.result_count"}},
		EventIntAttributeValues:     [][]int64{{10}, {150}},
		EventStrAttributeKeys:       [][]string{{"db.event.type"}, {"db.event.status"}},
		EventStrAttributeValues:     [][]string{{"query_execution_start"}, {"query_execution_complete"}},
		EventComplexAttributeKeys:   [][]string{{"@bytes@db.query_metadata"}, {"@bytes@db.result_metadata"}},
		EventComplexAttributeValues: [][]string{{"eyJxdWVyeV9pZCI6MTIzfQ=="}, {"eyJyb3dfY291bnQiOjE1MH0="}},
		LinkTraceIDs:                []string{"00000000000000000000000000000004"},
		LinkSpanIDs:                 []string{"0000000000000004"},
		LinkTraceStates:             []string{"state3"},
		LinkBoolAttributeKeys:       [][]string{{"link.persistent", "link.direct"}},
		LinkBoolAttributeValues:     [][]bool{{true, false}},
		LinkDoubleAttributeKeys:     [][]string{{"link.confidence"}},
		LinkDoubleAttributeValues:   [][]float64{{0.95}},
		LinkIntAttributeKeys:        [][]string{{"link.sequence"}},
		LinkIntAttributeValues:      [][]int64{{2}},
		LinkStrAttributeKeys:        [][]string{{"link.operation"}},
		LinkStrAttributeValues:      [][]string{{"child_of"}},
		LinkComplexAttributeKeys:    [][]string{{"@bytes@link.context"}},
		LinkComplexAttributeValues:  [][]string{{"eyJkYl9jb250ZXh0IjoidXNlcmRiIn0="}},
		ServiceName:                 "db-service",
		ScopeName:                   "db-scope",
		ScopeVersion:                "v1.0.0",
	},
}
